# Information Retrieval: Cosine Similarities
For text normalization, I converted all characters to lowercase, removed all punctuation except for ‘<’ and ’>’ used to identify tags, replaced newline characters with spaces, and split on spaces, resulting in an array of normalized strings. When processing the files, I selected to ignore tags and empty strings in the normalized array.

I created a vocabulary dictionary for each respective term in the provided headlines.txt that stored the list of (docid, term count) tuples for each word. I used this vocab dictionary to construct the inverted binary file (.bin extension), which used 4-bytes for both document ids and document term frequency. I also used the vocab dictionary to construct the dictionary storing (document frequency, offset) for each term. The dictionary was written to disk as
a .txt file. The function for processing the dictionary in this manner ultimately returned N, the total number of documents, to be used in query processing.

When processing the queries, I used the same normalization technique and created an array of dictionaries for each query, in which each dictionary contained unique vocabulary terms and the weights for each term for that particular query. These queries were ultimately used to calculate cosine similarities for all documents in the collection. I loaded the index from disk and used the dictionary containing document frequencies to calculate IDF, using the formula IDF = log(N/df). The IDF values were then used to calculate TF/IDF by retrieving the term frequencies TF from the postings list and multiplying them by their relevant IDF. The lengths of the documents and the queries were then calculated by summing the squares of the respective TF/IDF and taking the overall square root for each document and query. These lengths and TF/IDF values were then used to calculate cosine similarities for each document per query by iterating over each query and calculating the normalized dot product component in a final sum. The documents were then sorted in reverse order by cosine similarity for ranking per query.
